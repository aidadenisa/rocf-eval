"use strict";(self["webpackChunkrocf_eval"]=self["webpackChunkrocf_eval"]||[]).push([[156],{7734:(t,e,a)=>{a.d(e,{Z:()=>i});const n="https://api.rocf2.aida.blog",s={post:async(t,e)=>{const a=localStorage.getItem("token")||"";let s=await fetch(n+t,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":a},body:JSON.stringify(e)}).then((t=>t.json()));return s},get:async t=>{const e=localStorage.getItem("token")||"";let a=await fetch(n+t,{method:"GET",crossDomain:!0,headers:{"x-access-token":e}}).then((t=>t.json()));return a},put:async(t,e)=>{const a=localStorage.getItem("token")||"";let s=await fetch(n+t,{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":a},crossDomain:!0,body:JSON.stringify(e)}).then((t=>t.json()));return s},getImage:async t=>{const e=localStorage.getItem("token")||"";let a=await fetch(n+t,{method:"GET",crossDomain:!0,headers:{"x-access-token":e}}),s=await a.blob();return s}},i=s},7649:(t,e,a)=>{a.d(e,{Z:()=>l});a(71);var n=a(3673),s=a(2323);function i(t,e,a,i,o,l){return(0,n.wg)(),(0,n.iD)("div",{class:"lang",onClick:e[0]||(e[0]=(...t)=>l.switchLanguage&&l.switchLanguage(...t))},(0,s.zw)(l.changeTxt)+" "+(0,s.zw)(o.otherLang.label),1)}const o={data(){return{languages:[{value:"en-US",label:"English"},{value:"it",label:"Italian"}],currentLang:"it",otherLang:{value:"en",label:"English"}}},methods:{switchLanguage(){this.languages[0].value==this.currentLang?(this.otherLang=this.languages[0],this.currentLang=this.languages[1].value):(this.otherLang=this.languages[1],this.currentLang=this.languages[0].value),this.$i18n.locale=this.currentLang}},beforeMount(){this.$i18n.locale=this.currentLang},computed:{changeTxt(){return this.$t("langSwitch_change")}}};o.render=i,o.__scopeId="data-v-09634304";const l=o},8461:(t,e,a)=>{a.d(e,{Z:()=>u});var n=a(3673),s=a(2323);(0,n.dD)("data-v-38937d58");const i=["disabled"];function o(t,e,a,o,l,r){const c=(0,n.up)("q-icon");return(0,n.wg)(),(0,n.iD)("button",{class:(0,s.C_)(["rocf-button",`variant-${a.variant}`,{"display-block":a.block},`size-${a.size}`]),disabled:a.disabled},["left"==a.iconPosition?((0,n.wg)(),(0,n.j4)(c,{key:0,name:a.icon},null,8,["name"])):(0,n.kq)("",!0),(0,n._)("span",null,[(0,n.WI)(t.$slots,"default",{},void 0,!0)]),"right"==a.iconPosition?((0,n.wg)(),(0,n.j4)(c,{key:1,name:a.icon},null,8,["name"])):(0,n.kq)("",!0)],10,i)}(0,n.Cn)();const l={props:{icon:{type:String},iconPosition:{type:String},variant:{type:String,default:"primary"},block:{type:Boolean,default:!0},size:{type:String,default:"large"},disabled:{type:Boolean,default:!1}}};var r=a(4554),c=a(7518),d=a.n(c);l.render=o,l.__scopeId="data-v-38937d58";const u=l;d()(l,"components",{QIcon:r.Z})},5156:(t,e,a)=>{a.r(e),a.d(e,{default:()=>b});var n=a(3673),s=a(8880),i=a(2323);(0,n.dD)("data-v-2a7ef5d8");const o=(0,n._)("div",{class:"logo"},[(0,n._)("h3",null," Evaluator "),(0,n._)("h2",null," ROCF ")],-1),l={class:"register-form flex column"},r={class:"field flex column"},c={class:"input-wrapper"},d={class:"field flex column"},u={class:"input-wrapper"},g={class:"register-link"},h={class:"language"};function p(t,e,a,p,m,f){const w=(0,n.up)("router-link"),v=(0,n.up)("rocf-button"),k=(0,n.up)("lang-switch"),y=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(y,{class:"register-page flex column justify-center"},{default:(0,n.w5)((()=>[o,(0,n._)("div",l,[(0,n._)("div",r,[(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>m.email=t),placeholder:"Email",required:""},null,512),[[s.nr,m.email]])])]),(0,n._)("div",d,[(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{type:"password",id:"pass","onUpdate:modelValue":e[1]||(e[1]=t=>m.pass=t),placeholder:"Password",required:""},null,512),[[s.nr,m.pass]])])]),(0,n._)("div",g,[(0,n.Wm)(w,{to:"/register"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(f.registerLinkTxt),1)])),_:1})]),(0,n.Wm)(v,{type:"password",class:"submit-button",disabled:m.loading,onClick:f.login},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(f.loginTxt),1)])),_:1},8,["disabled","onClick"])]),(0,n._)("div",h,[(0,n.Wm)(k)])])),_:1})}(0,n.Cn)();var m=a(8461),f=a(7649),w=a(7734);const v={data(){return{email:"",pass:"",loading:!1}},components:{RocfButton:m.Z,LangSwitch:f.Z},methods:{async login(){if(""===this.email||""===this.pass)return void alert(this.emptyFieldTxt);this.loading=!0;let t=await w.Z.post("/login",{email:this.email,password:this.pass}).catch((t=>{alert(this.errorTxt),this.loading=!1}));this.loading=!1,t&&t.token&&(localStorage.setItem("token",t.token),this.$store.dispatch("fetchNewUserInfo",t),this.$router.push("/"))}},computed:{registerLinkTxt(){return this.$t("login_registerLink")},loginTxt(){return this.$t("login_loginBtn")},emptyFieldTxt(){return this.$t("login_fieldEmptyAlert")},errorTxt(){return this.$t("login_errorAlert")}}};var k=a(4379),y=a(7518),_=a.n(y);v.render=p,v.__scopeId="data-v-2a7ef5d8";const b=v;_()(v,"components",{QPage:k.Z})}}]);