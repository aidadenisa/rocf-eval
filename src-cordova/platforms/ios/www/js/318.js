"use strict";(self["webpackChunkrocf_eval"]=self["webpackChunkrocf_eval"]||[]).push([[318],{7734:(t,e,n)=>{n.d(e,{Z:()=>o});const a="https://api.rocf2.aida.blog",s={post:async(t,e)=>{const n=localStorage.getItem("token")||"";let s=await fetch(a+t,{method:"POST",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify(e)}).then((t=>t.json()));return s},get:async t=>{const e=localStorage.getItem("token")||"";let n=await fetch(a+t,{method:"GET",crossDomain:!0,headers:{"x-access-token":e}}).then((t=>t.json()));return n},put:async(t,e)=>{const n=localStorage.getItem("token")||"";let s=await fetch(a+t,{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},crossDomain:!0,body:JSON.stringify(e)}).then((t=>t.json()));return s},getImage:async t=>{const e=localStorage.getItem("token")||"";let n=await fetch(a+t,{method:"GET",crossDomain:!0,headers:{"x-access-token":e}}),s=await n.blob();return s}},o=s},7649:(t,e,n)=>{n.d(e,{Z:()=>l});n(71);var a=n(3673),s=n(2323);function o(t,e,n,o,i,l){return(0,a.wg)(),(0,a.iD)("div",{class:"lang",onClick:e[0]||(e[0]=(...t)=>l.switchLanguage&&l.switchLanguage(...t))},(0,s.zw)(l.changeTxt)+" "+(0,s.zw)(i.otherLang.label),1)}const i={data(){return{languages:[{value:"en-US",label:"English"},{value:"it",label:"Italian"}],currentLang:"it",otherLang:{value:"en",label:"English"}}},methods:{switchLanguage(){this.languages[0].value==this.currentLang?(this.otherLang=this.languages[0],this.currentLang=this.languages[1].value):(this.otherLang=this.languages[1],this.currentLang=this.languages[0].value),this.$i18n.locale=this.currentLang}},beforeMount(){this.$i18n.locale=this.currentLang},computed:{changeTxt(){return this.$t("langSwitch_change")}}};i.render=o,i.__scopeId="data-v-09634304";const l=i},1390:(t,e,n)=>{n.d(e,{Z:()=>u});var a=n(3673),s=n(2323);function o(t,e,n,o,i,l){const r=(0,a.up)("q-icon");return(0,a.wg)(),(0,a.iD)("button",{class:(0,s.C_)(["rocf-button",`variant-${n.variant}`,{"display-block":n.block},`size-${n.size}`])},["left"==n.iconPosition?((0,a.wg)(),(0,a.j4)(r,{key:0,name:n.icon},null,8,["name"])):(0,a.kq)("",!0),(0,a._)("span",null,[(0,a.WI)(t.$slots,"default",{},void 0,!0)]),"right"==n.iconPosition?((0,a.wg)(),(0,a.j4)(r,{key:1,name:n.icon},null,8,["name"])):(0,a.kq)("",!0)],2)}const i={props:{icon:{type:String},iconPosition:{type:String},variant:{type:String,default:"primary"},block:{type:Boolean,default:!0},size:{type:String,default:"large"}}};var l=n(4554),r=n(7518),c=n.n(r);i.render=o,i.__scopeId="data-v-4ab461c7";const u=i;c()(i,"components",{QIcon:l.Z})},318:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var a=n(3673),s=n(8880),o=n(2323);(0,a.dD)("data-v-458b9fd8");const i=(0,a._)("div",{class:"logo"},[(0,a._)("h3",null," Evaluator "),(0,a._)("h2",null," ROCF ")],-1),l={class:"register-form flex column"},r={class:"field flex column"},c={class:"input-wrapper"},u={class:"field flex column"},g={class:"input-wrapper"},d={class:"register-link"},h={class:"language"};function p(t,e,n,p,m,f){const w=(0,a.up)("router-link"),v=(0,a.up)("rocf-button"),k=(0,a.up)("lang-switch"),_=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(_,{class:"register-page flex column justify-center"},{default:(0,a.w5)((()=>[i,(0,a._)("div",l,[(0,a._)("div",r,[(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>m.email=t),placeholder:"Email",required:""},null,512),[[s.nr,m.email]])])]),(0,a._)("div",u,[(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"password",id:"pass","onUpdate:modelValue":e[1]||(e[1]=t=>m.pass=t),placeholder:"Password",required:""},null,512),[[s.nr,m.pass]])])]),(0,a._)("div",d,[(0,a.Wm)(w,{to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(f.registerLinkTxt),1)])),_:1})]),(0,a.Wm)(v,{type:"password",class:"submit-button",onClick:f.login},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(f.loginTxt),1)])),_:1},8,["onClick"])]),(0,a._)("div",h,[(0,a.Wm)(k)])])),_:1})}(0,a.Cn)();var m=n(1390),f=n(7649),w=n(7734);const v={data(){return{email:"",pass:""}},components:{RocfButton:m.Z,LangSwitch:f.Z},methods:{async login(){if(""===this.email||""===this.pass)return void alert(this.emptyFieldTxt);let t=await w.Z.post("/login",{email:this.email,password:this.pass}).catch((t=>{alert(this.errorTxt)}));t&&t.token&&(localStorage.setItem("token",t.token),this.$store.dispatch("fetchNewUserInfo",t),this.$router.push("/"))}},computed:{registerLinkTxt(){return this.$t("login_registerLink")},loginTxt(){return this.$t("login_loginBtn")},emptyFieldTxt(){return this.$t("login_fieldEmptyAlert")},errorTxt(){return this.$t("login_errorAlert")}}};var k=n(4379),_=n(7518),y=n.n(_);v.render=p,v.__scopeId="data-v-458b9fd8";const b=v;y()(v,"components",{QPage:k.Z})}}]);